<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-1.10.2.min.js"></script>
  <meta charset="utf-8">
  <title>Fullscreen backgrounds with centered content</title>
  <meta name="description" content="Fullscreen backgrounds with centered content">
  
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.js"></script>

  <script src="js/app.js"></script>
  <script src="js/animations.js"></script>

  <script>
  $(document).ready(function() {
  
  /* fix vertical when not overflow
  call fullscreenFix() if .fullscreen content changes */
  function fullscreenFix(){
      var h = $('body').height();
      // set .fullscreen height
/*      $(".content-b").each(function(i){
          if($(this).innerHeight() > h){ $(this).closest(".fullscreen").addClass("overflow");
          }
      });*/
  }
  $(window).resize(fullscreenFix);
  fullscreenFix();

  /* resize background images */
  function backgroundResize(){
      var windowH = $(window).height();
      $(".background").each(function(i){
          var path = $(this);
          // variables
          var contW = path.width();
          var contH = path.height();
          var imgW = path.attr("data-img-width");
          var imgH = path.attr("data-img-height");
          var ratio = imgW / imgH;
          // overflowing difference
          var diff = parseFloat(path.attr("data-diff"));
          diff = diff ? diff : 0;
          // remaining height to have fullscreen image only on parallax
          var remainingH = 0;
          if(path.hasClass("parallax")){
              var maxH = contH > windowH ? contH : windowH;
              remainingH = windowH - contH;
          }
          // set img values depending on cont
          imgH = contH + remainingH + diff;
          imgW = imgH * ratio;
          // fix when too large
          if(contW > imgW){
              imgW = contW;
              imgH = imgW / ratio;
          }
          //
          path.data("resized-imgW", imgW);
          path.data("resized-imgH", imgH);
          path.css("background-size", imgW + "px " + imgH + "px");
      });
  }
  $(window).resize(backgroundResize);
  $(window).focus(backgroundResize);
  backgroundResize();
  
  
  
  var my_image = new Image();

//we will call this function when the image has finished loading
function notify_complete()
{
   alert('The image has been loaded into the browser cache.');
}

function load_image()
{
   // call the notify_complete function when the image has loaded
   my_image.onload = notify_complete;

   // load the image
   my_image.src = 'bigearth.jpg';
}
  });
	</script>
	
	<style>
		html, body {
		    height: 100%;
		    overflow: hidden;
		}
		
		.background {
		    background-repeat: no-repeat;
		    /* custom background-position */
		    background-position: 50% 50%;
		    /* ie8- graceful degradation */
		    background-position: 50% 50%\9 !important;
		}
		
		.fullscreen {
		    width: 100%;
		    height: 100%;
		    overflow: hidden;
		}
		
		.fullscreen.overflow {
		    height: auto;
		    min-height: 100%;
		}
	</style>
  
</head>
  
<body ng-app="transmedia">

<div style="z-index :100; float:left; position: relative;">
Click me: <input type="checkbox" ng-model="checked" aria-label="Toggle ngHide"><br/>
</div>

<div ng-hide="checked" class="fullscreen card-show" position="prueba1">
<div class="fullscreen background" style="background-image:url('http://www.minimit.com/images/picjumbo.com_IMG_6648.jpg');" data-img-width="1600" data-img-height="1064">
    <div class="content-a">
        <div class="content-b">
            Centered content
        </div>
    </div>
</div>
</div>

<div ng-show="checked" class="fullscreen card-show" position="prueba2">
<div class="fullscreen background" style="background-image:url('img/monsoon-1.jpg');" data-img-width="1600" data-img-height="1064">
    <div class="content-a">
        <div class="content-b">
            Centered content
        </div>
    </div>
</div>
</div>
  
</body>
</html>